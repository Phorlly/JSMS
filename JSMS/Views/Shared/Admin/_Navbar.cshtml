@using Microsoft.AspNet.Identity
<!-- Left navbar links -->
<ul class="navbar-nav">
    <li class="nav-item">
        <a class="nav-link" data-widget="pushmenu" href="#" role="button"><i class="fas fa-bars"></i></a>
    </li>
    <li class="nav-item d-none d-sm-inline-block">
        <a href="@Url.Action("Index", "Home")" class="nav-link">@JSMS.Resources.Language.Home</a>
    </li>
    <li class="nav-item d-none d-sm-inline-block">
        <a href="@Url.Action("Contact", "Home")" class="nav-link">@JSMS.Resources.Language.Contact</a>
    </li>
    <li class="nav-item d-none d-sm-inline-block">
        <a href="@Url.Action("About", "Home")" class="nav-link">@JSMS.Resources.Language.About</a>
    </li>
</ul>

<!-- Right navbar links -->
<ul class="navbar-nav ml-auto">
    <!-- Assuming this is part of your HTML form or layout -->
    <li class="nav-item mx-3">
        <label for="language" ​ class="form-label">@JSMS.Resources.Language.ChangeLanguage</label>
        <select class="form-select-sm" onchange="changeLanguage(this)">

            @if (Request.Cookies["Languages"].Value == "km")
            {
                <option value="km">@JSMS.Resources.Language.Khmer</option>
                <option value="en">@JSMS.Resources.Language.English</option>
            }
            else
            {
                <option value="en">@JSMS.Resources.Language.English</option>
                <option value="km">@JSMS.Resources.Language.Khmer</option>
            }
        </select>
    </li>
    <li class="nav-item">
        <a class="nav-link" data-widget="fullscreen" href="#" role="button">
            <i class="fas fa-expand-arrows-alt"></i>
        </a>
    </li>
    <li class="nav-item user-menu mr-4">
        <a href="#" class="nav-link">
            <img src="~/Images/avatar5.png" class="user-image img-circle elevation-2" alt="User Image">
            <span class="text-bold mr-4" id="log-by" data-logby="@User.Identity.GetUserName()">@User.Identity.GetUserName()</span>
        </a>
    </li>
</ul>
<script src="~/Scripts/Libraries/bootstrap.min.js"></script>
<script src="~/Scripts/Libraries/jquery-3.7.1.min.js"></script>
<script>
    jQuery(document).ready(() => {
        //console.log({ UserName: $("#log-by").data("logby") });
    });

    const changeLanguage = (selectElement) =>{
        var selectedLanguage = selectElement.value;
        window.location.href = "@Url.Action("Change", "Language")?translator=" + selectedLanguage;
       }
</script>
